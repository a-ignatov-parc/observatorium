observatorium
=============

Fast pub/sub event library

Объект реализующий паттерн _pub/sub_ с полной поддержкой событий `jQuery` но работающий на много 
быстрее (http://jsperf.com/custom-pub-sub-test/3)

---

[![Build Status](https://travis-ci.org/a-ignatov-parc/observatorium.png?branch=master)](https://travis-ci.org/a-ignatov-parc/observatorium)

## Пример:

1. Выстреливает глобальное событие `event_name` и передает в обработчик два аргумента;

	```
	core.observatory.trigger('event_name', [argument1, argument2]);
	```

1. Создание обработчика на глобальное событие `event_name`, который принимает в качестве 
аргументов объект `jQuery` события и два аргумента переданные при выстреливании события

	```
	core.observatory.on('event_name', function(event, argument1, argument2) {
	    code here
	});
	```

1. Создание одного обработчика на несколько глобальных событий `event_name1` и `event_name2`.

	```
	core.observatory.on('event_name1 event_name2', function(event) {
	    code here
	});
	```

1. Создание обработчика на глобальное событие `event_name`, который принимает в качестве 
аргументов объект `jQuery` события и два аргумента переданные при выстреливании события, 
а так же обработчик вызывается с указаным контекстом (передается третьим аргументом)

	```
	core.observatory.on('event_name', function(event, argument1, argument2) {
	    code here
	}, this);
	```

1. Отписываемся от события

	```
	core.observatory.off('event_name');
	```

## Набор тестов на производительность:

1. [Тест 1](http://jsperf.com/marrow-observatory/4) – Самый суровый кейс.  
Каждый цикл навешивание событий → Выстреливание → Удаление события → Выстреливание.

1. [Тест 2](http://jsperf.com/marrow-observatory-vs-jquery-trigger-events/4) – Самый простой кейс.  
Навешивание событий и в каждом цыкле только выстреливание.

1. [Тест 3](http://jsperf.com/marrow-observatory-vs-jquery-bind-events-create-test) – Тест на скорость 
создания обсерватории и работы с событиями.

## История версий:

* `0.1.4` – Оптимизация методов для более быстрой работы.

* `0.1.3` – Исправлена ошибка с подменной контекста у одинаковых обработчиков разных инстансов 
одного и того же класса.

* `0.1.2` – Вызов обработчика событий обернут в `try..catch` на случай если внутри обработчика 
произойдет ошибка. В противном случае ошибка внутри обработчика может привести к обрыву цепочки 
вызова обработчиков.

* `0.1.1` – Исправлена ошибка когда метод `off` не учитывал переданный обработчик и контекст.

* `0.1.0` – Полностью переписаны все методы для ускорения производительности и исправления 
ошибок.