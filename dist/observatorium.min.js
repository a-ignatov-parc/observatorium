/**
 * observatorium - v0.1.4-6 (build date: 05/10/2013)
 * https://github.com/a-ignatov-parc/observatorium
 * Sandbox manager for requre.js to run dedicated apps
 * Copyright (c) 2013 Anton Ignatov
 * Licensed MIT
 */
!function(a){var b=function(){var a=/\s+/,b=[],c=[],d={},e={},f={};this.on=function(g,h,i){var j,k,l,m,n,o=c.length;if(!g||!h||"function"!=typeof h)return console.error("No event name or handler! Skipping..."),this;for(l=g.indexOf(" ")>=0?g.split(a):[g],c.push(h),b.push(i);l.length;)j=null,m=null,k=l.shift(),n=k.lastIndexOf("."),n>=0?(j=k.substring(0,n),m=k.substring(n)):j=k,j&&m&&(d[k]||(d[k]=[]),d[k].push(o)),m&&(d[m]||(d[m]=[]),d[m].push(o)),j&&(d[j]||(d[j]=[]),d[j].push(o)),(e[k]||e[j]||e[m])&&(f[o]=c[o],c[o]=null);return this},this.off=function(e,f,g){var h,i,j,k;for(j=e.indexOf(" ")>=0?e.split(a):[e];j.length;)if(h=j.shift(),i=d[h])for(var l=0,m=i.length;m>l;l++)k=i[l],c[k]&&(f&&f!=c[k]||g&&b[k]!=g||(c[k]=b[k]=null));return this},this.trigger=function(a,e){var f,g,h;if(!a)return console.error("No event name! Skipping..."),this;if(a.indexOf(" ")>=0&&(a=a.replace(" ","")),f=d[a])for(var i=0,j=f.length;j>i;i++)if(h=f[i],g=c[h])try{"object"==typeof e&&"function"==typeof e.concat&&"number"==typeof e.length&&e.length?g.apply(b[h],[a].concat(e)):g.call(b[h],a,e)}catch(k){console.error(k)}return this},this.mute=function(b){var g,h,i,j;if(!b)return console.error("No event name! Skipping..."),this;for(i=b.indexOf(" ")>=0?b.split(a):[b];i.length;)if(g=i.shift(),!e[g]&&(e[g]=1,h=d[g]))for(var k=0,l=h.length;l>k;k++)j=h[k],f[j]||(f[j]=c[j],c[j]=null);return this},this.unmute=function(b){var e,g,h,i;if(!b)return console.error("No event name! Skipping..."),this;for(h=b.indexOf(" ")>=0?b.split(a):[b];h.length;)if(e=h.shift(),g=d[e])for(var j=0,k=g.length;k>j;j++)i=g[j],f[i]&&(c[i]=f[i],delete f[i]);return this}};b.prototype={constructor:b},a.Observatorium=b}(window);